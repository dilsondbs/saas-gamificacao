import{r as s,G as U,j as t,a as e,S as B,A as P,F as D}from"./app-8c0852e1.js";import{A as G}from"./AuthenticatedLayout-59e9d229.js";import"./ApplicationLogo-b365625c.js";import"./transition-f64bd92e.js";function z({title:n,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const X=s.forwardRef(z),N=X;function _({title:n,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const H=s.forwardRef(_),m=H;function J({title:n,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const W=s.forwardRef(J),Z=W;function V({title:n,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const K=s.forwardRef(V),Q=K;function se({auth:n,courses:l,selectedCourse:o}){const[c,x]=s.useState(!1),[y,h]=s.useState(0),[b,k]=s.useState(!1),[p,E]=s.useState(null),[v,w]=s.useState([]),f=s.useRef(null),{data:u,setData:g,post:F,processing:C,errors:d,reset:Y}=U({course_id:(o==null?void 0:o.id)||"",title:"",file:null}),M=["pdf","doc","docx","ppt","pptx","jpg","jpeg","png"],A=10*1024*1024,I=r=>{const a=[];if(!r)return a.push("Por favor selecione um arquivo"),a;r.size>A&&a.push("O arquivo deve ter no máximo 10MB");const i=r.name.split(".").pop().toLowerCase();return M.includes(i)||a.push("Formato não suportado. Use: PDF, DOC, DOCX, PPT, PPTX, JPG, JPEG, PNG"),a},j=r=>{const a=I(r);w(a),a.length===0&&(g("file",r),E({name:r.name,size:(r.size/1024/1024).toFixed(2),type:r.type}))},L=r=>{r.preventDefault(),x(!0)},S=r=>{r.preventDefault(),x(!1)},$=r=>{r.preventDefault(),x(!1);const a=r.dataTransfer.files;a.length>0&&j(a[0])},O=r=>{const a=r.target.files[0];a&&j(a)},q=()=>{g("file",null),E(null),w([]),f.current&&(f.current.value="")},T=r=>{if(r.preventDefault(),!u.file){w(["Por favor selecione um arquivo"]);return}k(!0),h(0);const a=setInterval(()=>{h(i=>i>=90?(clearInterval(a),90):i+10)},200);F(route("instructor.materials.store"),{preserveScroll:!0,onSuccess:()=>{h(100),setTimeout(()=>{P.visit(route("instructor.courses.show",u.course_id))},1e3)},onError:()=>{k(!1),h(0),clearInterval(a)},onFinish:()=>{clearInterval(a)}})},R=r=>{const a=r==null?void 0:r.split(".").pop().toLowerCase(),i="w-8 h-8";return["pdf"].includes(a)?e(m,{className:`${i} text-red-500`}):["doc","docx"].includes(a)?e(m,{className:`${i} text-blue-500`}):["ppt","pptx"].includes(a)?e(m,{className:`${i} text-orange-500`}):["jpg","jpeg","png"].includes(a)?e(m,{className:`${i} text-green-500`}):e(m,{className:`${i} text-gray-500`})};return t(G,{user:n.user,header:e("div",{className:"flex justify-between items-center",children:t("div",{children:[e("h2",{className:"text-xl font-semibold text-gray-800",children:"Adicionar Material"}),e("p",{className:"text-sm text-gray-600 mt-1",children:"Faça upload de materiais de apoio para seus cursos"})]})}),children:[e(B,{title:"Adicionar Material"}),e("div",{className:"py-12",children:e("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-2xl",children:t("div",{className:"relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-8 py-12",children:[e("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-sm"}),t("div",{className:"relative",children:[t("div",{className:"flex items-center space-x-3 mb-6",children:[e("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e(N,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h3",{className:"text-2xl font-bold text-gray-900",children:"Upload de Material"}),e("p",{className:"text-gray-600",children:"Adicione recursos para enriquecer suas aulas"})]})]}),t("form",{onSubmit:T,className:"space-y-8",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-gray-700",children:"Curso"}),t("select",{value:u.course_id,onChange:r=>g("course_id",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white/80 backdrop-blur-sm",required:!0,children:[e("option",{value:"",children:"Selecione um curso"}),l.map(r=>e("option",{value:r.id,children:r.title},r.id))]}),d.course_id&&e("p",{className:"text-red-500 text-sm",children:d.course_id})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-gray-700",children:"Título do Material"}),e("input",{type:"text",value:u.title,onChange:r=>g("title",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white/80 backdrop-blur-sm",placeholder:"Ex: Apostila Módulo 1, Slides Introdutórios...",required:!0}),d.title&&e("p",{className:"text-red-500 text-sm",children:d.title})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-gray-700",children:"Arquivo"}),p?t("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl p-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[R(p.name),t("div",{children:[e("h4",{className:"font-medium text-gray-900",children:p.name}),t("p",{className:"text-sm text-gray-500",children:[p.size," MB"]})]})]}),e("button",{type:"button",onClick:q,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",children:e(Q,{className:"w-5 h-5"})})]}),b&&t("div",{className:"mt-4",children:[t("div",{className:"flex items-center justify-between text-sm mb-2",children:[e("span",{className:"text-gray-600",children:"Enviando..."}),t("span",{className:"text-gray-600",children:[y,"%"]})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})})]})]}):t("div",{className:`relative border-2 border-dashed rounded-xl p-12 text-center transition-all duration-300 cursor-pointer ${c?"border-blue-500 bg-blue-50/80 scale-102":"border-gray-300 bg-white/50 hover:bg-blue-50/50 hover:border-blue-400"}`,onDragOver:L,onDragLeave:S,onDrop:$,onClick:()=>{var r;return(r=f.current)==null?void 0:r.click()},children:[e("input",{ref:f,type:"file",onChange:O,className:"hidden",accept:".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png"}),t("div",{className:"space-y-4",children:[e("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e(N,{className:"w-8 h-8 text-white"})}),t("div",{children:[e("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Arraste e solte seu arquivo aqui"}),e("p",{className:"text-gray-600 mb-4",children:"ou clique para selecionar"}),e("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-indigo-700 transition-all duration-200",children:"Escolher Arquivo"})]}),t("div",{className:"text-sm text-gray-500",children:[e("p",{children:"Formatos aceitos: PDF, DOC, DOCX, PPT, PPTX, JPG, JPEG, PNG"}),e("p",{children:"Tamanho máximo: 10MB"})]})]})]}),v.length>0&&e("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:t("div",{className:"flex items-start space-x-3",children:[e(Z,{className:"w-5 h-5 text-red-500 mt-0.5"}),t("div",{children:[e("h4",{className:"font-medium text-red-800 mb-1",children:"Erro no arquivo"}),e("ul",{className:"text-sm text-red-600 space-y-1",children:v.map((r,a)=>t("li",{children:["• ",r]},a))})]})]})}),d.file&&e("p",{className:"text-red-500 text-sm",children:d.file})]}),t("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[e("button",{type:"button",onClick:()=>P.visit(route("instructor.courses.index")),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200",children:"Cancelar"}),e("button",{type:"submit",disabled:C||b||!u.file||v.length>0,className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:b?t(D,{children:[e("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando..."]}):t(D,{children:[e(N,{className:"w-5 h-5 mr-2"}),"Fazer Upload"]})})]})]})]})]})})})})]})}export{se as default};

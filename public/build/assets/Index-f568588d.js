import{r as m,j as l,a as s,x as i,S as T,A as N}from"./app-2033c2ba.js";import{A as z}from"./AuthenticatedLayout-e732cd47.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function y(r){console.log("Activities Index Props:",r);const f=(r.auth||{}).user||{},n=r.activities||{},o=r.courses||[],d=r.stats||{},c=r.filters||{};let a=[];Array.isArray(n)?a=n:n.data&&Array.isArray(n.data)&&(a=n.data),console.log("Activities List:",a);const[h,b]=m.useState(c.search||""),[x,w]=m.useState(c.course||""),[u,v]=m.useState(c.type||""),p=()=>{N.get(route("admin.activities.index"),{search:h,course:x,type:u},{preserveState:!0,preserveScroll:!0})},k=e=>({lesson:"bg-blue-100 text-blue-800",video:"bg-purple-100 text-purple-800",quiz:"bg-green-100 text-green-800",assignment:"bg-orange-100 text-orange-800"})[e]||"bg-gray-100 text-gray-800",A=e=>({lesson:"📖",video:"🎥",quiz:"❓",assignment:"📝"})[e]||"📋";return l(z,{user:f,header:l("div",{className:"flex items-center justify-between",children:[s("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"📋 Gerenciamento de Atividades"}),s(i,{href:route("admin.activities.create"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition",children:"+ Nova Atividade"})]}),children:[s(T,{title:"Gerenciar Atividades"}),s("div",{className:"py-8",children:l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[l("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"p-6",children:l("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0",children:s("div",{className:"text-2xl",children:"📋"})}),l("div",{className:"ml-3",children:[s("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),s("p",{className:"text-2xl font-semibold text-gray-900",children:(d==null?void 0:d.total)||0})]})]})})}),s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"p-6",children:l("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0",children:s("div",{className:"text-2xl",children:"📖"})}),l("div",{className:"ml-3",children:[s("p",{className:"text-sm font-medium text-gray-500",children:"Lições"}),s("p",{className:"text-2xl font-semibold text-blue-600",children:(d==null?void 0:d.lessons)||0})]})]})})}),s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"p-6",children:l("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0",children:s("div",{className:"text-2xl",children:"❓"})}),l("div",{className:"ml-3",children:[s("p",{className:"text-sm font-medium text-gray-500",children:"Quizzes"}),s("p",{className:"text-2xl font-semibold text-green-600",children:(d==null?void 0:d.quizzes)||0})]})]})})}),s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"p-6",children:l("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0",children:s("div",{className:"text-2xl",children:"📝"})}),l("div",{className:"ml-3",children:[s("p",{className:"text-sm font-medium text-gray-500",children:"Tarefas"}),s("p",{className:"text-2xl font-semibold text-orange-600",children:(d==null?void 0:d.assignments)||0})]})]})})})]}),s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"p-6",children:l("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700",children:"Pesquisar"}),s("input",{type:"text",value:h,onChange:e=>b(e.target.value),placeholder:"Título da atividade...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyPress:e=>e.key==="Enter"&&p()})]}),l("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700",children:"Curso"}),l("select",{value:x,onChange:e=>w(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[s("option",{value:"",children:"Todos os cursos"}),o&&o.length>0?o.map(e=>s("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.title},e==null?void 0:e.id)):null]})]}),l("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),l("select",{value:u,onChange:e=>v(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[s("option",{value:"",children:"Todos os tipos"}),s("option",{value:"lesson",children:"Lição"}),s("option",{value:"video",children:"Vídeo"}),s("option",{value:"quiz",children:"Quiz"}),s("option",{value:"assignment",children:"Tarefa"})]})]}),s("div",{className:"flex items-end",children:s("button",{onClick:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition",children:"🔍 Buscar"})}),s("div",{className:"flex items-end",children:s(i,{href:route("admin.activities.index"),className:"w-full text-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition",children:"🔄 Limpar"})})]})})}),s("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:s("div",{className:"overflow-x-auto",children:l("table",{className:"min-w-full divide-y divide-gray-200",children:[s("thead",{className:"bg-gray-50",children:l("tr",{children:[s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atividade"}),s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso"}),s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordem"}),s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Obrigatória"}),s("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s("tbody",{className:"bg-white divide-y divide-gray-200",children:a&&a.length>0?a.map(e=>{var t,g;return l("tr",{className:"hover:bg-gray-50",children:[l("td",{className:"px-6 py-4 whitespace-nowrap",children:[s("div",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.title}),l("div",{className:"text-sm text-gray-500",children:[((t=e==null?void 0:e.description)==null?void 0:t.substring(0,50))||"","..."]})]}),s("td",{className:"px-6 py-4 whitespace-nowrap",children:s("div",{className:"text-sm text-gray-900",children:((g=e==null?void 0:e.course)==null?void 0:g.title)||"N/A"})}),s("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k(e==null?void 0:e.type)}`,children:[A(e==null?void 0:e.type)," ",(e==null?void 0:e.type)==="lesson"?"Lição":(e==null?void 0:e.type)==="video"?"Vídeo":(e==null?void 0:e.type)==="quiz"?"Quiz":"Tarefa"]})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",(e==null?void 0:e.order)||0]}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["⭐ ",(e==null?void 0:e.points_value)||0]}),s("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e!=null&&e.is_required?"✅ Sim":"❌ Não"}),l("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[s(i,{href:route("admin.activities.show",e==null?void 0:e.id),className:"text-indigo-600 hover:text-indigo-900",children:"👁️ Ver"}),s(i,{href:route("admin.activities.edit",e==null?void 0:e.id),className:"text-yellow-600 hover:text-yellow-900",children:"✏️ Editar"}),s("button",{onClick:()=>{confirm("Tem certeza que deseja excluir esta atividade?")&&N.delete(route("admin.activities.destroy",e==null?void 0:e.id))},className:"text-red-600 hover:text-red-900",children:"🗑️ Excluir"})]})]},e==null?void 0:e.id)}):s("tr",{children:s("td",{colSpan:"7",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"Nenhuma atividade encontrada"})})})]})})})]})})]})}export{y as default};

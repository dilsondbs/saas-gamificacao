import{r as N,j as l,a as e,A as o,S as v}from"./app-2033c2ba.js";import{A as w}from"./AuthenticatedLayout-e732cd47.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";const y=(c,a=150)=>{if(!c)return"";const n=c.replace(/<[^>]*>/g,""),i=document.createElement("div");i.innerHTML=n;const s=i.textContent||i.innerText||"";return s.length>a?s.substring(0,a).trim()+"...":s};function k({auth:c,course:a,activities:n,enrollment:i,progress:s}){var x;const u=c.user,[r,h]=N.useState(!1),m=r?n.filter(t=>t.is_completed):n,p=t=>({reading:"📖",quiz:"❓",assignment:"📝",video:"🎥",lesson:"📚"})[t]||"📌",g=t=>({reading:"Leitura",quiz:"Quiz",assignment:"Exercício",video:"Vídeo",lesson:"Lição"})[t]||"Atividade",b=t=>{!t.can_access&&!t.is_completed||o.get(`/student/activities/${t.id}`)},f=({activity:t,index:d})=>e("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all duration-300 transform hover:scale-[1.02] ${t.is_completed?"border-green-200 bg-green-50 cursor-pointer hover:border-green-400 hover:shadow-lg":t.can_access?"border-blue-200 hover:border-blue-400 hover:shadow-xl cursor-pointer":"border-gray-200 bg-gray-50 opacity-60"}`,onClick:()=>b(t),children:l("div",{className:"p-6",children:[l("div",{className:"flex items-start justify-between mb-4",children:[l("div",{className:"flex items-center space-x-3",children:[e("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${t.is_completed?"bg-green-500 text-white":t.can_access?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-400"}`,children:t.is_completed?"✓":p(t.type)}),l("div",{children:[l("div",{className:"flex items-center space-x-2 mb-1",children:[e("h3",{className:`font-bold text-lg ${t.can_access?"text-gray-900":"text-gray-500"}`,children:t.title}),e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.is_completed?"bg-green-100 text-green-800":t.can_access?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:g(t.type)})]}),e("p",{className:`text-sm ${t.can_access?"text-gray-600":"text-gray-400"}`,children:y(t.description,150)})]})]}),l("div",{className:"text-right",children:[l("div",{className:`text-lg font-bold ${t.can_access?"text-yellow-600":"text-gray-400"}`,children:["🏆 ",t.points_value]}),e("div",{className:"text-xs text-gray-500",children:"pontos"})]})]}),l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"⏱️"}),l("span",{children:[t.duration_minutes," min"]})]}),l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"📋"}),l("span",{children:["Ordem ",t.order]})]}),t.attempts>0&&l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"🔁"}),l("span",{children:[t.attempts," tentativa",t.attempts!==1?"s":""]})]})]}),e("div",{className:"flex items-center space-x-2",children:t.is_completed?l("div",{className:"flex items-center space-x-2",children:[e("span",{className:"text-sm text-green-600 font-medium",children:"Concluído"}),t.score!==null&&l("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-bold",children:[t.score," ✓"]})]}):t.can_access?e("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Disponível"}):e("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:"🔒 Bloqueado"})})]})]})});return l(w,{user:u,header:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center space-x-3",children:[l("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["📚 ",a.title]}),l("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[s.percentage,"% concluído"]})]}),e("button",{onClick:()=>o.get(route("student.courses")),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition",children:"← Voltar aos Cursos"})]}),children:[e(v,{title:`Curso: ${a.title}`}),e("div",{className:"py-8",children:l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 overflow-hidden shadow-lg rounded-xl",children:e("div",{className:"p-8 text-white",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex-1",children:[e("h1",{className:"text-3xl font-bold mb-2",children:a.title}),a.description&&e("p",{className:"text-blue-100 text-lg mb-4",children:a.description}),l("div",{className:"flex items-center space-x-6 text-sm",children:[l("div",{className:"flex items-center",children:[e("span",{className:"mr-2",children:"👨‍🏫"}),e("span",{children:((x=a.instructor)==null?void 0:x.name)||"Instrutor"})]}),l("div",{className:"flex items-center",children:[e("span",{className:"mr-2",children:"📅"}),l("span",{children:["Matriculado em ",new Date(i.created_at).toLocaleDateString("pt-BR")]})]})]})]}),e("div",{className:"hidden md:block text-6xl opacity-20",children:"🎓"})]})})}),e("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl",children:l("div",{className:"p-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:"text-lg font-medium text-gray-900",children:"Seu Progresso"}),l("div",{className:"text-sm text-gray-600",children:[s.completed," de ",s.total," atividades"]})]}),l("div",{className:"mb-4",children:[l("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm font-medium text-gray-700",children:"Progresso do Curso"}),l("span",{className:"text-lg font-bold text-blue-600",children:[s.percentage,"%"]})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:e("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 h-4 rounded-full transition-all duration-700 relative overflow-hidden",style:{width:`${s.percentage}%`},children:e("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-green-600",children:s.completed}),e("div",{className:"text-sm text-gray-600",children:"Atividades Concluídas"})]}),l("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-yellow-600",children:s.total-s.completed}),e("div",{className:"text-sm text-gray-600",children:"Atividades Restantes"})]}),l("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-blue-600",children:n.reduce((t,d)=>t+(d.is_completed?d.points_value:0),0)}),e("div",{className:"text-sm text-gray-600",children:"Pontos Ganhos"})]})]})]})}),s.percentage===100&&e("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-yellow-500 rounded-xl shadow-2xl overflow-hidden animate-pulse",children:l("div",{className:"p-8 text-white",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex-1",children:[l("div",{className:"flex items-center space-x-3 mb-3",children:[e("div",{className:"text-6xl animate-bounce",children:"🏆"}),l("div",{children:[e("h2",{className:"text-3xl font-bold",children:"Desafio Final Desbloqueado!"}),e("p",{className:"text-yellow-200 text-lg",children:"Complete os 3 níveis e desbloqueie o título de Mestre do Curso"})]})]}),l("div",{className:"flex items-center space-x-4 mt-4",children:[l("div",{className:"flex items-center space-x-2 bg-white/20 px-3 py-1 rounded-full",children:[e("span",{children:"🟢"}),e("span",{className:"text-sm",children:"Fácil"})]}),l("div",{className:"flex items-center space-x-2 bg-white/20 px-3 py-1 rounded-full",children:[e("span",{children:"🟡"}),e("span",{className:"text-sm",children:"Médio"})]}),l("div",{className:"flex items-center space-x-2 bg-white/20 px-3 py-1 rounded-full",children:[e("span",{children:"🔴"}),e("span",{className:"text-sm",children:"Difícil"})]}),l("div",{className:"flex items-center space-x-2 bg-yellow-400/30 px-3 py-1 rounded-full",children:[e("span",{children:"👑"}),e("span",{className:"text-sm font-bold",children:"Mestre do Curso"})]})]})]}),e("button",{onClick:()=>o.visit(route("student.challenge.show",a.id)),className:"hidden md:block px-8 py-4 bg-white text-purple-600 rounded-xl font-bold text-lg hover:bg-yellow-100 transition-all duration-300 transform hover:scale-110 shadow-2xl",children:"🚀 Iniciar Desafio Final"})]}),e("button",{onClick:()=>o.visit(route("student.challenge.show",a.id)),className:"md:hidden w-full mt-4 px-8 py-4 bg-white text-purple-600 rounded-xl font-bold text-lg hover:bg-yellow-100 transition-all duration-300 shadow-2xl",children:"🚀 Iniciar Desafio Final"})]})}),l("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl",children:[e("div",{className:"p-6 border-b border-gray-200",children:l("div",{className:"flex items-center justify-between",children:[e("h3",{className:"text-lg font-medium text-gray-900",children:"Atividades do Curso"}),l("div",{className:"flex items-center space-x-2",children:[l("button",{onClick:()=>h(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${r?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-500 text-white"}`,children:["Todas (",n.length,")"]}),l("button",{onClick:()=>h(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${r?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Concluídas (",s.completed,")"]})]})]})}),e("div",{className:"p-6",children:m&&m.length>0?e("div",{className:"space-y-4",children:m.map((t,d)=>e(f,{activity:t,index:d},t.id))}):l("div",{className:"text-center py-12",children:[e("div",{className:"text-6xl mb-4",children:r?"🎉":"📚"}),e("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:r?"Nenhuma atividade concluída ainda":"Nenhuma atividade disponível"}),e("p",{className:"text-gray-600",children:r?"Complete atividades para vê-las aqui!":"As atividades aparecerão aqui conforme são liberadas."})]})})]}),e("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 border border-purple-200",children:l("div",{className:"flex items-start space-x-3",children:[e("div",{className:"text-2xl",children:"💡"}),l("div",{children:[e("h3",{className:"font-medium text-gray-900 mb-2",children:"Como Funciona a Progressão?"}),l("ul",{className:"text-sm text-gray-700 space-y-1",children:[e("li",{children:"• Complete as atividades em sequência para desbloquear as próximas"}),e("li",{children:"• Ganhe pontos ao concluir cada atividade com sucesso"}),e("li",{children:"• Atividades bloqueadas (🔒) só são liberadas após completar as anteriores"}),e("li",{children:"• Você pode refazer atividades para melhorar sua pontuação"})]})]})]})})]})})]})}export{k as default};

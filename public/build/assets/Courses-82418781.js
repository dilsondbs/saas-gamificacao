import{r as b,j as l,a as e,S as N,A as o,F as g}from"./app-2033c2ba.js";import{A as f}from"./AuthenticatedLayout-e732cd47.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function j({auth:u,courses:a,enrolledCourseIds:r}){const x=u.user,[d,c]=b.useState(null),p=t=>{var n;c(t);let s;try{s=route("student.enroll",t)}catch(i){console.warn("Ziggy route not found, using direct URL:",i),s=`/student/enroll/${t}`}o.post(s,{_token:(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.content},{preserveState:!1,preserveScroll:!0,onFinish:()=>c(null),onError:i=>{console.error("Enrollment error:",i),alert("Erro na matr√≠cula. Por favor, recarregue a p√°gina e tente novamente.")},onSuccess:()=>{console.log("Enrollment successful!")}})},m=t=>r.includes(t),v=({course:t})=>{var s,n;return l("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[l("div",{className:"h-48 bg-gradient-to-br from-blue-400 to-purple-600 relative overflow-hidden",children:[t.image?e("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover",onError:i=>{i.target.style.display="none",i.target.nextSibling.style.display="flex"}}):null,e("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center",children:e("div",{className:"text-white text-6xl opacity-20",children:"üìö"})}),m(t.id)&&e("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"‚úì Matriculado"}),l("div",{className:"absolute bottom-4 left-4 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold",children:["üèÜ ",t.points_per_completion," pts"]})]}),l("div",{className:"p-6",children:[l("div",{className:"mb-4",children:[e("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),e("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"üë•"}),l("span",{children:[t.enrollments_count," alunos"]})]}),l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"üìù"}),l("span",{children:[((s=t.activities)==null?void 0:s.length)||0," atividades"]})]}),l("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"üë®‚Äçüè´"}),e("span",{children:((n=t.instructor)==null?void 0:n.name)||"Instrutor"})]})]}),e("div",{className:"flex items-center justify-between",children:m(t.id)?l("div",{className:"flex w-full space-x-2",children:[e("button",{onClick:()=>{console.log("Navigating to course ID:",t.id),o.get(`/student/courses/${t.id}`)},className:"flex-1 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors duration-200",children:"üìñ Continuar Estudos"}),e("button",{onClick:()=>{var h;const i=(h=t.activities)==null?void 0:h[0];console.log("Course activities:",t.activities),console.log("First activity:",i),i&&i.id?(console.log("Navigating to activity ID:",i.id),o.get(`/student/activities/${i.id}`)):(console.error("No valid activity found"),alert("Nenhuma atividade dispon√≠vel neste curso."))},disabled:!t.activities||t.activities.length===0,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"üéØ Fazer Quiz"})]}):e("button",{onClick:()=>p(t.id),disabled:d===t.id,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${d===t.id?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transform hover:scale-105"}`,children:d===t.id?l(g,{children:[e("span",{className:"inline-block animate-spin mr-2",children:"‚è≥"}),"Matriculando..."]}):l(g,{children:[e("span",{className:"mr-2",children:"üöÄ"}),"Matricular-se"]})})})]})]})};return l(f,{user:x,header:l("div",{className:"flex items-center justify-between",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"üìö Cursos Dispon√≠veis"}),l("div",{className:"text-sm text-gray-600",children:[a.length," curso",a.length!==1?"s":""," dispon√≠vel",a.length!==1?"eis":""]})]}),children:[e(N,{title:"Cursos Dispon√≠veis"}),e("div",{className:"py-8",children:l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg mb-8 overflow-hidden",children:e("div",{className:"p-8 text-white",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[e("h1",{className:"text-3xl font-bold mb-2",children:"Explore Novos Conhecimentos! üåü"}),e("p",{className:"text-indigo-100 text-lg",children:"Matricule-se em cursos, complete atividades e ganhe pontos para subir no ranking!"})]}),e("div",{className:"hidden md:block text-6xl opacity-20",children:"üéì"})]})})}),r.length>0&&e("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l("div",{className:"flex items-center",children:[e("div",{className:"text-blue-500 text-xl mr-3",children:"üìä"}),l("div",{children:[l("h3",{className:"font-medium text-blue-900",children:["Voc√™ est√° matriculado em ",r.length," curso",r.length!==1?"s":""]}),e("p",{className:"text-blue-700 text-sm",children:"Continue seus estudos e complete as atividades para ganhar mais pontos!"})]})]})}),a&&a.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(t=>e(v,{course:t},t.id))}):l("div",{className:"text-center py-12",children:[e("div",{className:"text-6xl mb-4",children:"üìö"}),e("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Nenhum curso dispon√≠vel"}),e("p",{className:"text-gray-600",children:"Novos cursos ser√£o adicionados em breve. Fique ligado!"})]}),e("div",{className:"mt-12 bg-gray-50 rounded-xl p-8 text-center",children:l("div",{className:"max-w-2xl mx-auto",children:[e("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"üéØ Como Funciona a Gamifica√ß√£o?"}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[l("div",{className:"bg-white p-4 rounded-lg shadow",children:[e("div",{className:"text-2xl mb-2",children:"1Ô∏è‚É£"}),e("h4",{className:"font-medium mb-1",children:"Matricule-se"}),e("p",{className:"text-gray-600",children:"Escolha um curso e se inscreva gratuitamente"})]}),l("div",{className:"bg-white p-4 rounded-lg shadow",children:[e("div",{className:"text-2xl mb-2",children:"2Ô∏è‚É£"}),e("h4",{className:"font-medium mb-1",children:"Complete Atividades"}),e("p",{className:"text-gray-600",children:"Fa√ßa quizzes e ganhe pontos por cada acerto"})]}),l("div",{className:"bg-white p-4 rounded-lg shadow",children:[e("div",{className:"text-2xl mb-2",children:"3Ô∏è‚É£"}),e("h4",{className:"font-medium mb-1",children:"Suba no Ranking"}),e("p",{className:"text-gray-600",children:"Compita com outros alunos e ganhe badges"})]})]})]})})]})})]})}export{j as default};

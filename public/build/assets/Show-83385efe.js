import{r as N,j as n,a as e,S as g,x as p,F as f,A as v}from"./app-2033c2ba.js";import{A as w}from"./AuthenticatedLayout-e732cd47.js";import{P as A}from"./PrimaryButton-da8d1f8a.js";import{S as i}from"./SecondaryButton-0e383e44.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";const c=(l,t=300)=>{if(console.log("üîç stripHtmlAndTruncate chamado:",{html:l==null?void 0:l.substring(0,100),maxLength:t}),!l)return"";const d=l.replace(/<[^>]*>/g,""),a=document.createElement("div");a.innerHTML=d;const s=a.textContent||a.innerText||"";return s.length>t?s.substring(0,t).trim()+"...":s};function q({auth:l,activity:t,userProgress:d}){var m,h;const[a,s]=N.useState(!1),u=()=>{s(!0),setTimeout(()=>{v.get(route("student.courses.show",t.course.id))},1e3)},r=o=>({lesson:"üìö",quiz:"‚ùì",video:"üé•",reading:"üìñ",assignment:"üìù",project:"üöÄ"})[o]||"üìÑ",x=o=>({lesson:"Aula",quiz:"Quiz",video:"V√≠deo",reading:"Leitura",assignment:"Tarefa",project:"Projeto"})[o]||o;return n(w,{user:l.user,header:n("div",{className:"flex justify-between items-center",children:[n("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[r(t.type)," ",t.title]}),d&&d.completed&&e("div",{className:"text-sm text-green-600 font-medium",children:"‚úÖ Conclu√≠do"})]}),children:[e(g,{title:`${t.title} - Atividade`}),e("div",{className:"py-12",children:n("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:n("div",{className:"p-6",children:[n("div",{className:"flex items-center mb-4",children:[e("span",{className:"text-3xl mr-4",children:r(t.type)}),n("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900",children:t.title}),n("p",{className:"text-sm text-gray-600",children:[x(t.type)," ‚Ä¢ ",t.points_value||10," pontos"]})]})]}),e("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:n(p,{href:route("student.courses.show",t.course.id),className:"hover:text-blue-600",children:["üìö ",t.course.title]})}),d&&d.completed&&e("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:n("div",{className:"flex items-center",children:[e("div",{className:"text-green-500 mr-3",children:e("span",{className:"text-xl",children:"üéâ"})}),n("div",{children:[e("p",{className:"text-green-800 font-medium",children:"Atividade Conclu√≠da!"}),n("p",{className:"text-green-700 text-sm",children:["Conclu√≠da em: ",new Date(d.completed_at).toLocaleDateString("pt-BR"),d.score&&` ‚Ä¢ Pontua√ß√£o: ${d.score}`]})]})]})})]})}),e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:n("div",{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"üìñ Descri√ß√£o da Atividade"}),e("div",{className:"prose max-w-none text-gray-700 mb-6",children:t.description?n("p",{children:[console.log("üìù activity.description:",(m=t.description)==null?void 0:m.substring(0,100)),c(t.description,300)]}):e("p",{className:"text-gray-500 italic",children:"Nenhuma descri√ß√£o dispon√≠vel para esta atividade."})}),t.content&&n("div",{className:"border-t pt-6",children:[e("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"üìã Conte√∫do"}),e("div",{className:"bg-gray-50 rounded-lg p-4",children:e("p",{className:"text-gray-700",children:typeof t.content=="object"&&((h=t.content)!=null&&h.content)?c(t.content.content,400):c(t.description||"Sem descri√ß√£o dispon√≠vel",400)})})]}),t.type==="lesson"&&n("div",{className:"border-t pt-6",children:[e("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"üéì Conte√∫do da Aula"}),e("div",{className:"bg-blue-50 rounded-lg p-4",children:e("p",{className:"text-blue-800",children:"Esta √© uma aula te√≥rica. Leia o conte√∫do com aten√ß√£o e certifique-se de entender todos os conceitos antes de prosseguir."})})]}),t.type==="quiz"&&n("div",{className:"border-t pt-6",children:[e("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"‚ùì Quiz"}),n("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e("p",{className:"text-yellow-800 mb-3",children:"Este √© um quiz para testar seus conhecimentos."}),!(d!=null&&d.completed)&&e(i,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"üéØ Iniciar Quiz"})]})]})]})}),n("div",{className:"flex justify-between items-center",children:[e(p,{href:route("student.courses.show",t.course.id),children:e(i,{children:"‚Üê Voltar ao Curso"})}),e("div",{className:"space-x-3",children:d!=null&&d.completed?e(i,{children:"üîÑ Revisar Atividade"}):e(A,{onClick:u,disabled:a,children:a?n(f,{children:[e("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Concluindo..."]}):"‚úÖ Marcar como Conclu√≠do"})})]})]})})]})}export{q as default};

import{r as n,j as t,a as e,S as g,A as o,F as x}from"./app-2033c2ba.js";import{A as h}from"./AuthenticatedLayout-e732cd47.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function P({auth:p,activity:s,course:i,userActivity:C,hasCompleted:b}){const d=p.user,[f,v]=n.useState(!1),[r,N]=n.useState(""),[w]=n.useState(new Date),[c,l]=n.useState(!1),y=()=>{v(!0)},E=()=>{if(r.trim().length<50){alert("Por favor, escreva pelo menos 50 caracteres na sua resposta.");return}l(!0),o.post(route("student.quiz.submit",s.id),{answers:{},assignment_text:r,assignment_completed:!0,time_spent:Math.floor((new Date-w)/1e3)},{preserveState:!1,preserveScroll:!1,onSuccess:()=>{console.log("✅ Assignment submitted successfully"),l(!1)},onError:a=>{console.error("❌ Assignment submission error:",a),l(!1),alert("Erro ao enviar o exercício. Tente novamente.")}})},m=(()=>{var u;const a=((u=s.content)==null?void 0:u.module)||"o tema estudado";return{title:s.title,instructions:`
                <h3>📝 Instruções do Exercício</h3>
                <p>${s.description}</p>
                
                <h4>🎯 O que fazer:</h4>
                <ul>
                    <li>Reflita sobre os conceitos de <strong>${a}</strong> que você estudou</li>
                    <li>Escreva suas reflexões de forma clara e organizada</li>
                    <li>Use exemplos práticos quando possível</li>
                    <li>Demonstre sua compreensão do assunto</li>
                </ul>

                <h4>📏 Critérios:</h4>
                <ul>
                    <li>Mínimo de 50 caracteres</li>
                    <li>Resposta relacionada ao tema</li>
                    <li>Demonstração de reflexão crítica</li>
                </ul>

                <h4>💡 Prompt para sua reflexão:</h4>
                <div style="background: #e0e7ff; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #6366f1;">
                    <p><strong>Questão reflexiva:</strong></p>
                    <p>Com base no que você aprendeu sobre ${a}, descreva:</p>
                    <ol>
                        <li>Os principais conceitos que mais chamaram sua atenção</li>
                        <li>Como você poderia aplicar esse conhecimento na prática</li>
                        <li>Que dúvidas ou curiosidades surgiram durante o estudo</li>
                    </ol>
                </div>
            `}})();return b?t(h,{user:d,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"✅ Exercício Concluído"}),children:[e(g,{title:`Exercício: ${s.title}`}),e("div",{className:"py-8",children:t("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[t("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[e("div",{className:"text-6xl mb-4",children:"🎉"}),e("h1",{className:"text-3xl font-bold text-green-800 mb-4",children:"Excelente! Exercício Concluído!"}),t("p",{className:"text-lg text-green-700 mb-6",children:["Você completou com sucesso: ",e("strong",{children:s.title})]}),e("div",{className:"bg-green-100 border border-green-300 rounded-lg p-4 mb-6",children:t("div",{className:"flex items-center justify-center",children:[e("span",{className:"text-2xl mr-2",children:"🏆"}),t("span",{className:"text-lg font-medium text-green-800",children:["+",s.points_value," pontos conquistados!"]})]})}),e("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t("div",{className:"text-blue-800",children:[e("span",{className:"font-medium",children:"💡 Parabéns pela reflexão!"}),e("p",{className:"mt-2 text-sm",children:"Exercícios práticos ajudam a consolidar o aprendizado e desenvolver pensamento crítico."})]})})]}),t("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e("button",{onClick:()=>o.get(route("student.courses.show",i.id)),className:"px-8 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors duration-200",children:"📚 Continuar Curso"}),e("button",{onClick:()=>o.get(route("student.dashboard")),className:"px-8 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors duration-200",children:"🎯 Ver Progresso"})]})]})})]}):t(h,{user:d,header:t("div",{className:"flex items-center justify-between",children:[t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["📝 ",s.title]}),t("div",{className:"flex items-center space-x-4 text-sm",children:[t("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full font-medium",children:["🏆 ",s.points_value," pts"]}),t("div",{className:"text-gray-600",children:["⏱️ ",s.duration_minutes," min"]})]})]}),children:[e(g,{title:`Exercício: ${s.title}`}),e("div",{className:"py-8",children:t("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e("div",{className:"p-8",children:f?t("div",{children:[e("div",{className:"prose prose-lg max-w-none mb-8",dangerouslySetInnerHTML:{__html:m.instructions}}),t("div",{className:"bg-gray-50 rounded-lg p-6",children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"✍️ Sua Resposta:"}),e("textarea",{value:r,onChange:a=>N(a.target.value),className:"w-full h-48 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none",placeholder:"Escreva sua reflexão aqui... (mínimo 50 caracteres)"}),t("div",{className:"mt-2 flex justify-between items-center",children:[t("span",{className:`text-sm ${r.length>=50?"text-green-600":"text-gray-500"}`,children:[r.length," caracteres",r.length>=50&&" ✓"]}),e("span",{className:"text-xs text-gray-400",children:"💡 Dica: Seja específico e use exemplos"})]})]}),e("div",{className:"mt-6 text-center",children:e("button",{onClick:E,disabled:c||r.trim().length<50,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-bold hover:from-green-600 hover:to-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 shadow-lg",children:c?t(x,{children:[e("span",{className:"animate-spin mr-2",children:"⏳"}),"Enviando..."]}):t(x,{children:[e("span",{className:"mr-2",children:"📤"}),"Enviar Exercício"]})})})]}):t("div",{className:"text-center",children:[e("div",{className:"text-6xl mb-6",children:"📝"}),e("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:m.title}),e("p",{className:"text-lg text-gray-600 mb-8",children:s.description}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e("div",{className:"text-2xl font-bold text-orange-600",children:"📋"}),e("div",{className:"text-sm text-gray-600 mt-2",children:"Exercício Prático"})]}),t("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t("div",{className:"text-2xl font-bold text-blue-600",children:["⏱️ ",s.duration_minutes,"min"]}),e("div",{className:"text-sm text-gray-600 mt-2",children:"Tempo Sugerido"})]}),t("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t("div",{className:"text-2xl font-bold text-green-600",children:["🏆 ",s.points_value]}),e("div",{className:"text-sm text-gray-600 mt-2",children:"Pontos Possíveis"})]})]}),t("button",{onClick:y,className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[e("span",{className:"mr-2",children:"🚀"}),"Começar Exercício"]})]})})}),t("div",{className:"flex justify-between items-center",children:[e("button",{onClick:()=>o.get(route("student.courses.show",i.id)),className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-all font-medium",children:"← Voltar ao Curso"}),e("div",{className:"text-sm text-gray-500",children:"💭 Reflita sobre o que aprendeu e seja criativo!"})]})]})})]})}export{P as default};

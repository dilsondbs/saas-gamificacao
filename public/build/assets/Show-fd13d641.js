import{r as s,j as t,x as o,a as e,F as E,S as _,A as m}from"./app-2033c2ba.js";import{A as L}from"./AuthenticatedLayout-e732cd47.js";import{A as S}from"./ArrowLeftIcon-2722d9a6.js";import{P as I}from"./PlayIcon-5fa56993.js";import{T as x}from"./TrashIcon-ba2a360d.js";import{U as M}from"./UserGroupIcon-809d583a.js";import{C as f}from"./ClockIcon-61f75a73.js";import{C as R}from"./CheckCircleIcon-2012105e.js";import{S as B}from"./StarIcon-3b3e5ca4.js";import{C as h}from"./CloudArrowUpIcon-d8ff5991.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function $({title:n,titleId:a,...l},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},l),n?s.createElement("title",{id:a},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const F=s.forwardRef($),z=F;function H({title:n,titleId:a,...l},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},l),n?s.createElement("title",{id:a},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const P=s.forwardRef(H),U=P;function q({title:n,titleId:a,...l},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},l),n?s.createElement("title",{id:a},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const O=s.forwardRef(q),T=O;function ie({auth:n,course:a,userEnrollment:l,userProgress:r,stats:c,canEdit:d,canDelete:p}){var u;const[N,g]=s.useState(!1),[v,b]=s.useState(!1),w=()=>{m.delete(route("courses.destroy",a.id))},y=()=>{m.post(route("courses.duplicate",a.id))},C=()=>{m.post(route("courses.publish",a.id))},k=()=>{m.post(route("courses.archive",a.id))},A=i=>{switch(i){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},j=i=>{switch(i){case"published":return"Publicado";case"draft":return"Rascunho";case"archived":return"Arquivado";default:return i}};return t(L,{user:n.user,header:t("div",{className:"flex justify-between items-center",children:[t("div",{className:"flex items-center",children:[t(o,{href:route("courses.index"),className:"mr-4 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e(S,{className:"h-4 w-4 mr-1"}),"Voltar"]}),e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:a.title})]}),t("div",{className:"flex space-x-3",children:[d&&t(E,{children:[t(o,{href:route("courses.edit",a.id),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(T,{className:"h-4 w-4 mr-2"}),"Editar"]}),t("button",{onClick:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(U,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),a.status==="draft"&&a.activities.length>0&&t("button",{onClick:C,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e(I,{className:"h-4 w-4 mr-2"}),"Publicar"]}),a.status==="published"&&t("button",{onClick:k,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(z,{className:"h-4 w-4 mr-2"}),"Arquivar"]})]}),p&&t("button",{onClick:()=>g(!0),className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e(x,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),children:[e(_,{title:a.title}),e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"lg:col-span-2 space-y-6",children:[e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex-1",children:[e("div",{className:"flex items-center mb-2",children:e("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A(a.status)}`,children:j(a.status)})}),e("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:a.title}),e("p",{className:"text-gray-600 leading-relaxed",children:a.description})]}),a.image&&e("img",{src:`/storage/${a.image}`,alt:a.title,className:"w-32 h-24 object-cover rounded-lg ml-6"})]}),t("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[t("div",{className:"text-center",children:[e(M,{className:"h-6 w-6 text-indigo-600 mx-auto mb-1"}),e("div",{className:"text-lg font-semibold text-gray-900",children:c.total_students}),e("div",{className:"text-sm text-gray-500",children:"Alunos"})]}),t("div",{className:"text-center",children:[e(f,{className:"h-6 w-6 text-indigo-600 mx-auto mb-1"}),e("div",{className:"text-lg font-semibold text-gray-900",children:c.total_activities}),e("div",{className:"text-sm text-gray-500",children:"Atividades"})]}),t("div",{className:"text-center",children:[e(R,{className:"h-6 w-6 text-indigo-600 mx-auto mb-1"}),t("div",{className:"text-lg font-semibold text-gray-900",children:[c.completion_rate,"%"]}),e("div",{className:"text-sm text-gray-500",children:"Conclusão"})]}),t("div",{className:"text-center",children:[e(B,{className:"h-6 w-6 text-indigo-600 mx-auto mb-1"}),e("div",{className:"text-lg font-semibold text-gray-900",children:c.average_rating}),e("div",{className:"text-sm text-gray-500",children:"Avaliação"})]})]})]})}),e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[t("div",{className:"flex justify-between items-center mb-4",children:[e("h3",{className:"text-lg font-medium text-gray-900",children:"Atividades do Curso"}),d&&t(o,{href:route("materials.upload.show",a.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(h,{className:"h-4 w-4 mr-2"}),"Enviar Material"]})]}),a.activities.length>0?e("div",{className:"space-y-3",children:a.activities.map((i,D)=>t("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[e("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-4",children:e("span",{className:"text-sm font-medium text-indigo-600",children:D+1})}),t("div",{className:"flex-1 min-w-0",children:[e("h4",{className:"text-sm font-medium text-gray-900 truncate",children:i.title}),e("p",{className:"text-sm text-gray-500 truncate",children:i.description}),t("div",{className:"flex items-center mt-1 text-xs text-gray-400",children:[e("span",{className:"capitalize",children:i.type}),e("span",{className:"mx-2",children:"•"}),t("span",{children:[i.points_value," pontos"]}),e("span",{className:"mx-2",children:"•"}),t("span",{children:[i.duration_minutes," min"]})]})]}),e("div",{className:"flex-shrink-0",children:i.is_required&&e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Obrigatório"})})]},i.id))}):t("div",{className:"text-center py-6",children:[e(f,{className:"mx-auto h-12 w-12 text-gray-400"}),e("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma atividade"}),e("p",{className:"mt-1 text-sm text-gray-500",children:d?"Comece enviando material para gerar atividades automaticamente.":"Este curso ainda não possui atividades."}),d&&e("div",{className:"mt-6",children:t(o,{href:route("materials.upload.show",a.id),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(h,{className:"h-4 w-4 mr-2"}),"Enviar Primeiro Material"]})})]})]})}),a.materials&&a.materials.length>0&&e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Materiais do Curso"}),e("div",{className:"space-y-3",children:a.materials.map(i=>t("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[t("div",{className:"flex-1 min-w-0",children:[e("h4",{className:"text-sm font-medium text-gray-900 truncate",children:i.title}),t("p",{className:"text-sm text-gray-500 truncate",children:[i.file_name," • ",(i.file_size/1024/1024).toFixed(2)," MB"]})]}),e("div",{className:"flex-shrink-0",children:e(o,{href:route("materials.download",i.id),className:"text-indigo-600 hover:text-indigo-500 text-sm font-medium",children:"Download"})})]},i.id))})]})})]}),t("div",{className:"space-y-6",children:[e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações do Curso"}),t("dl",{className:"space-y-3",children:[t("div",{children:[e("dt",{className:"text-sm font-medium text-gray-500",children:"Instrutor"}),e("dd",{className:"text-sm text-gray-900",children:((u=a.instructor)==null?void 0:u.name)||"N/A"})]}),t("div",{children:[e("dt",{className:"text-sm font-medium text-gray-500",children:"Pontos por Conclusão"}),t("dd",{className:"text-sm text-gray-900",children:[a.points_per_completion," pontos"]})]}),t("div",{children:[e("dt",{className:"text-sm font-medium text-gray-500",children:"Criado em"}),e("dd",{className:"text-sm text-gray-900",children:new Date(a.created_at).toLocaleDateString("pt-BR")})]}),t("div",{children:[e("dt",{className:"text-sm font-medium text-gray-500",children:"Última atualização"}),e("dd",{className:"text-sm text-gray-900",children:new Date(a.updated_at).toLocaleDateString("pt-BR")})]})]})]})}),r&&e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Meu Progresso"}),t("div",{className:"space-y-3",children:[t("div",{className:"flex justify-between text-sm",children:[e("span",{className:"text-gray-500",children:"Conclusão"}),t("span",{className:"font-medium text-gray-900",children:[r.percentage,"%"]})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${r.percentage}%`}})}),t("div",{className:"text-sm text-gray-500",children:[r.completed_activities," de ",r.total_activities," atividades concluídas"]})]})]})}),d&&a.enrollments&&a.enrollments.length>0&&e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"p-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alunos Matriculados"}),t("div",{className:"space-y-3",children:[a.enrollments.slice(0,5).map(i=>e("div",{className:"flex items-center",children:t("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.user.name}),t("p",{className:"text-sm text-gray-500",children:["Matriculado em: ",new Date(i.enrolled_at).toLocaleDateString("pt-BR")]})]})},i.id)),a.enrollments.length>5&&t("p",{className:"text-sm text-gray-500 text-center",children:["e mais ",a.enrollments.length-5," alunos..."]})]})]})})]})]})})}),N&&e("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:t("div",{className:"mt-3 text-center",children:[e(x,{className:"mx-auto h-16 w-16 text-red-600"}),e("h3",{className:"text-lg font-medium text-gray-900 mt-2",children:"Excluir Curso"}),e("div",{className:"mt-2 px-7 py-3",children:e("p",{className:"text-sm text-gray-500",children:"Tem certeza que deseja excluir este curso? Esta ação não pode ser desfeita."})}),t("div",{className:"items-center px-4 py-3",children:[e("button",{onClick:w,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-24 mr-2 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-300",children:"Excluir"}),e("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-300 text-gray-900 text-base font-medium rounded-md w-24 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancelar"})]})]})})}),v&&e("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:t("div",{className:"mt-3 text-center",children:[e(h,{className:"mx-auto h-16 w-16 text-indigo-600"}),e("h3",{className:"text-lg font-medium text-gray-900 mt-2",children:"Enviar Material"}),e("div",{className:"mt-2 px-7 py-3",children:e("p",{className:"text-sm text-gray-500",children:"A funcionalidade de upload será implementada na próxima etapa."})}),e("div",{className:"items-center px-4 py-3",children:e("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-24 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-300",children:"Fechar"})})]})})})]})}export{ie as default};

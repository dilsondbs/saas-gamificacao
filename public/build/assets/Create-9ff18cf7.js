import{G as f,r as _,j as r,a as e,S as y,x as N}from"./app-2033c2ba.js";import{A as v}from"./AuthenticatedLayout-e732cd47.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function D({auth:p,plans:n=[]}){var l,d,c,u,x;const{data:s,setData:i,post:b,processing:m,errors:t}=f({name:"",slug:"",description:"",plan:"teste",max_users:1,max_courses:1,max_storage_mb:50}),o=n.reduce((a,g)=>(a[g.id]=g,a),{});_.useEffect(()=>{const a=o[s.plan];a&&i({...s,max_users:a.max_users,max_courses:a.max_courses,max_storage_mb:a.max_storage_mb})},[s.plan]);const h=a=>{a.preventDefault(),b("/central/tenants")};return r(v,{user:p.user,isCentral:!0,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Criar Novo Cliente"}),children:[e(y,{title:"Criar Cliente"}),e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 text-gray-900",children:r("form",{onSubmit:h,className:"space-y-6",children:[r("div",{children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome do Cliente"}),e("input",{type:"text",name:"name",id:"name",value:s.name,onChange:a=>i("name",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ex: Escola ABC"}),t.name&&e("p",{className:"mt-1 text-sm text-red-600",children:t.name})]}),r("div",{children:[e("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:"Slug (usado no domínio)"}),e("input",{type:"text",name:"slug",id:"slug",value:s.slug,onChange:a=>i("slug",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ex: escola-abc"}),r("p",{className:"mt-1 text-sm text-gray-500",children:["Será usado como: ",s.slug||"slug",".localhost"]}),t.slug&&e("p",{className:"mt-1 text-sm text-red-600",children:t.slug})]}),r("div",{children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),e("textarea",{name:"description",id:"description",rows:"3",value:s.description,onChange:a=>i("description",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Descrição do cliente..."}),t.description&&e("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),r("div",{children:[e("label",{htmlFor:"plan",className:"block text-sm font-medium text-gray-700",children:"Plano"}),e("select",{name:"plan",id:"plan",value:s.plan,onChange:a=>i("plan",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:n.map(a=>r("option",{value:a.id,children:[a.name," - ",a.id==="teste"&&a.price==0?"Grátis":`R$ ${a.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}/mês`,a.max_users===999999?" (ilimitados usuários)":` (até ${a.max_users} usuários)`]},a.id))}),r("p",{className:"mt-1 text-sm text-gray-500",children:["Plano selecionado: ",(l=o[s.plan])==null?void 0:l.name," -",((d=o[s.plan])==null?void 0:d.id)==="teste"&&((c=o[s.plan])==null?void 0:c.price)==0?"Grátis":`R$ ${(x=(u=o[s.plan])==null?void 0:u.price)==null?void 0:x.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}/mês`]}),t.plan&&e("p",{className:"mt-1 text-sm text-red-600",children:t.plan})]}),r("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r("div",{children:[e("label",{htmlFor:"max_users",className:"block text-sm font-medium text-gray-700",children:"Máximo de Usuários"}),e("input",{type:"number",name:"max_users",id:"max_users",value:s.max_users===999999?"Ilimitado":s.max_users,onChange:a=>i("max_users",parseInt(a.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",min:"1",disabled:!0}),e("p",{className:"mt-1 text-xs text-gray-500",children:"Definido automaticamente pelo plano selecionado"}),t.max_users&&e("p",{className:"mt-1 text-sm text-red-600",children:t.max_users})]}),r("div",{children:[e("label",{htmlFor:"max_courses",className:"block text-sm font-medium text-gray-700",children:"Máximo de Cursos"}),e("input",{type:"number",name:"max_courses",id:"max_courses",value:s.max_courses===999999?"Ilimitado":s.max_courses,onChange:a=>i("max_courses",parseInt(a.target.value)),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",min:"1",disabled:!0}),e("p",{className:"mt-1 text-xs text-gray-500",children:"Definido automaticamente pelo plano selecionado"}),t.max_courses&&e("p",{className:"mt-1 text-sm text-red-600",children:t.max_courses})]}),r("div",{children:[e("label",{htmlFor:"max_storage_mb",className:"block text-sm font-medium text-gray-700",children:"Armazenamento Máximo (GB)"}),e("input",{type:"text",name:"max_storage_mb",id:"max_storage_mb",value:`${(s.max_storage_mb/1e3).toFixed(1)} GB`,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-gray-50",disabled:!0}),e("p",{className:"mt-1 text-xs text-gray-500",children:"Definido automaticamente pelo plano selecionado"}),t.max_storage_mb&&e("p",{className:"mt-1 text-sm text-red-600",children:t.max_storage_mb})]})]}),r("div",{className:"flex items-center justify-end space-x-4",children:[e(N,{href:"/central/tenants",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",children:"Cancelar"}),e("button",{type:"submit",disabled:m,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",children:m?"Criando...":"Criar Cliente"})]})]})})})})})]})}export{D as default};

import{X as g,a as e,j as l,S as T}from"./app-2033c2ba.js";import{A as C}from"./AuthenticatedLayout-e732cd47.js";import{T as j}from"./TenantBranding-13121006.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function A({title:u,subtitle:t}){const{tenant:s}=g().props;if(!s)return null;const r=()=>s.status.is_trial_active?e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"PerÃ­odo Trial"}):s.status.is_active?e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ativo"}):e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Suspenso"});return e("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l("div",{className:"py-6",children:[l("div",{className:"md:flex md:items-center md:justify-between",children:[l("div",{className:"flex-1 min-w-0",children:[l("div",{className:"flex items-center gap-3 mb-2",children:[e("h1",{className:"text-2xl font-bold leading-7 sm:text-3xl sm:truncate",style:{color:s.primary_color},children:s.name}),r()]}),t&&e("p",{className:"text-sm text-gray-600 mb-2",children:t}),l("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l("span",{children:["Plano: ",e("strong",{className:"text-gray-700 capitalize",children:s.plan})]}),s.industry&&l("span",{children:["Setor: ",e("strong",{className:"text-gray-700",children:s.industry})]}),l("span",{children:["URL: ",l("strong",{className:"text-gray-700",children:[s.slug,".saas-gamificacao.local"]})]})]})]}),e("div",{className:"mt-4 md:mt-0",children:e("div",{className:"flex items-center gap-2",children:e("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{"--tw-ring-color":s.primary_color,focusRingColor:s.primary_color},children:"âš™ï¸ ConfiguraÃ§Ãµes"})})})]}),u&&e("div",{className:"mt-6",children:e("h2",{className:"text-xl font-semibold text-gray-900",children:u})})]})})})}function _({showTitle:u=!0,compact:t=!1}){const{tenant:s}=g().props;if(!s)return null;const{limits:r}=s,f=({current:o,max:m,percentage:c,color:n="bg-blue-500"})=>e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e("div",{className:`h-2 rounded-full transition-all ${(()=>c>=90?"bg-red-500":c>=75?"bg-yellow-500":n)()}`,style:{width:`${Math.min(c,100)}%`}})}),d=({icon:o,label:m,current:c,max:n,percentage:p,type:y})=>l("div",{className:`${t?"p-3":"p-4"} bg-white rounded-lg border shadow-sm`,children:[l("div",{className:"flex items-center justify-between mb-2",children:[l("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-lg",children:o}),e("span",{className:`font-medium ${t?"text-sm":"text-base"}`,children:m})]}),e("span",{className:`text-gray-600 ${t?"text-xs":"text-sm"}`,children:y==="storage"?`${c}MB / ${n}MB`:`${c} / ${n}`})]}),e(f,{current:c,max:n,percentage:p}),l("div",{className:`mt-1 text-right ${t?"text-xs":"text-sm"} text-gray-500`,children:[p,"% utilizado"]})]});return l("div",{className:t?"space-y-3":"space-y-4",children:[u&&l("h3",{className:`font-semibold text-gray-900 ${t?"text-base":"text-lg"}`,children:["Limites do Plano ",s.plan.charAt(0).toUpperCase()+s.plan.slice(1)]}),l("div",{className:`grid ${t?"gap-3":"gap-4"} md:grid-cols-3`,children:[e(d,{icon:"ðŸ‘¥",label:"UsuÃ¡rios",current:r.users.current,max:r.users.max,percentage:r.users.percentage,type:"users"}),e(d,{icon:"ðŸ“š",label:"Cursos",current:r.courses.current,max:r.courses.max,percentage:r.courses.percentage,type:"courses"}),e(d,{icon:"ðŸ’¾",label:"Armazenamento",current:r.storage.current_mb,max:r.storage.max_mb,percentage:r.storage.percentage,type:"storage"})]})]})}function L({auth:u,generalStats:t,engagementMetrics:s,topUsers:r,topCourses:f,chartData:d}){var n,p,y;g().props;const o=({title:i,value:a,subtitle:b,icon:v,gradient:N,change:x=null,trend:h=null})=>e("div",{className:`${N} overflow-hidden shadow-lg rounded-xl transform hover:scale-105 transition-all duration-300`,children:e("div",{className:"p-6",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex-1",children:[e("h3",{className:"text-sm font-medium text-white opacity-90",children:i}),e("p",{className:"text-2xl font-bold text-white mt-1",children:a}),e("p",{className:"text-white opacity-75 text-xs mt-1",children:b}),x&&l("div",{className:`flex items-center mt-2 text-xs ${h==="up"?"text-green-200":h==="down"?"text-red-200":"text-white"}`,children:[h==="up"&&e("span",{className:"mr-1",children:"â†—"}),h==="down"&&e("span",{className:"mr-1",children:"â†˜"}),e("span",{children:x})]})]}),e("div",{className:"text-4xl opacity-80",children:v})]})})}),m=({data:i,type:a="line",className:b=""})=>{if(!i||i.length===0)return e("div",{className:"text-gray-400 text-center py-4",children:"Sem dados"});const v=Math.max(...i.map(N=>Object.values(N).filter(x=>typeof x=="number")).flat());return e("div",{className:`flex items-end space-x-1 h-20 ${b}`,children:i.slice(-15).map((N,x)=>{const h=Object.values(N).find($=>typeof $=="number")||0,w=v>0?h/v*100:0;return e("div",{className:"flex-1 flex flex-col justify-end",children:e("div",{className:"bg-blue-500 rounded-sm opacity-80 hover:opacity-100 transition-opacity",style:{height:`${w}%`,minHeight:w>0?"2px":"0px"},title:`${N.date||x}: ${h}`})},x)})})},c=({value:i,max:a,color:b="blue"})=>{const v=a>0?i/a*100:0;return e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e("div",{className:`bg-${b}-500 h-2 rounded-full transition-all duration-300`,style:{width:`${Math.min(v,100)}%`}})})};return e(j,{children:l(C,{user:u.user,header:e(A,{title:"Dashboard Administrativo",subtitle:"VisÃ£o geral da sua plataforma educacional"}),children:[e(T,{title:"Dashboard Admin"}),l("div",{className:"py-6",children:[l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6",children:e(_,{})})}),e("div",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e("div",{className:"py-8",children:l("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-8",children:[e("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 overflow-hidden shadow-lg rounded-xl",children:e("div",{className:"p-8 text-white",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[e("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard Administrativo ðŸ“Š"}),e("p",{className:"text-indigo-100 text-lg",children:"VisÃ£o geral completa da plataforma de gamificaÃ§Ã£o"})]}),e("div",{className:"hidden md:block text-6xl opacity-20",children:"ðŸŽ¯"})]})})}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(o,{title:"Total de UsuÃ¡rios",value:(t==null?void 0:t.totalUsers)||0,subtitle:`${(t==null?void 0:t.totalStudents)||0} estudantes, ${(t==null?void 0:t.totalInstructors)||0} instrutores`,icon:"ðŸ‘¥",gradient:"bg-gradient-to-br from-blue-500 to-blue-700"}),e(o,{title:"Cursos",value:(t==null?void 0:t.totalCourses)||0,subtitle:`${(t==null?void 0:t.publishedCourses)||0} publicados`,icon:"ðŸ“š",gradient:"bg-gradient-to-br from-green-500 to-green-700"}),e(o,{title:"Atividades",value:(t==null?void 0:t.totalActivities)||0,subtitle:"Total de atividades",icon:"âœï¸",gradient:"bg-gradient-to-br from-purple-500 to-purple-700"}),e(o,{title:"Badges",value:(t==null?void 0:t.totalBadges)||0,subtitle:"Total de badges",icon:"ðŸ…",gradient:"bg-gradient-to-br from-yellow-500 to-orange-600"})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e("span",{className:"text-2xl mr-2",children:"ðŸ“ˆ"}),"MÃ©tricas de Engajamento"]}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l("div",{className:"text-center",children:[e("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"HOJE"}),l("div",{className:"space-y-3",children:[l("div",{children:[e("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.activeUsersToday)||0}),e("div",{className:"text-xs text-gray-500",children:"UsuÃ¡rios ativos"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.enrollmentsToday)||0}),e("div",{className:"text-xs text-gray-500",children:"Novas matrÃ­culas"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-purple-600",children:(s==null?void 0:s.activitiesCompletedToday)||0}),e("div",{className:"text-xs text-gray-500",children:"Atividades concluÃ­das"})]})]})]}),l("div",{className:"text-center",children:[e("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"ESTA SEMANA"}),l("div",{className:"space-y-3",children:[l("div",{children:[e("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.activeUsersThisWeek)||0}),e("div",{className:"text-xs text-gray-500",children:"UsuÃ¡rios ativos"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.enrollmentsThisWeek)||0}),e("div",{className:"text-xs text-gray-500",children:"Novas matrÃ­culas"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-purple-600",children:(s==null?void 0:s.activitiesCompletedThisWeek)||0}),e("div",{className:"text-xs text-gray-500",children:"Atividades concluÃ­das"})]})]})]}),l("div",{className:"text-center",children:[e("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"ESTE MÃŠS"}),l("div",{className:"space-y-3",children:[l("div",{children:[e("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.enrollmentsThisMonth)||0}),e("div",{className:"text-xs text-gray-500",children:"Total matrÃ­culas"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.pointsAwardedThisMonth)||0}),e("div",{className:"text-xs text-gray-500",children:"Pontos distribuÃ­dos"})]}),l("div",{children:[e("div",{className:"text-2xl font-bold text-purple-600",children:(s==null?void 0:s.badgesEarnedThisMonth)||0}),e("div",{className:"text-xs text-gray-500",children:"Badges conquistadas"})]})]})]})]})]}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e("div",{className:"bg-white rounded-xl shadow-lg",children:l("div",{className:"p-6",children:[l("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e("span",{className:"text-2xl mr-2",children:"ðŸ†"}),"Top 5 Estudantes"]}),e("div",{className:"space-y-4",children:r&&r.map((i,a)=>l("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${a===0?"bg-yellow-500":a===1?"bg-gray-400":a===2?"bg-orange-400":"bg-blue-500"}`,children:a+1}),e("div",{className:"ml-4 flex-1",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[e("h4",{className:"font-medium text-gray-900",children:i.name}),e("p",{className:"text-sm text-gray-500",children:i.email}),l("div",{className:"flex items-center space-x-4 text-xs text-gray-600 mt-1",children:[l("span",{children:["ðŸ… ",i.badges_count," badges"]}),l("span",{children:["ðŸ“š ",i.enrollments_count," cursos"]}),l("span",{children:["âœ… ",i.activities_completed," atividades"]})]})]}),l("div",{className:"text-right",children:[e("div",{className:"font-bold text-gray-900",children:i.total_points}),e("div",{className:"text-xs text-gray-500",children:"pontos"})]})]})})]},i.id))})]})}),e("div",{className:"bg-white rounded-xl shadow-lg",children:l("div",{className:"p-6",children:[l("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e("span",{className:"text-2xl mr-2",children:"ðŸ“š"}),"Top 5 Cursos Populares"]}),e("div",{className:"space-y-4",children:f&&f.map((i,a)=>l("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l("div",{className:"flex items-start justify-between mb-2",children:[l("div",{className:"flex-1",children:[e("h4",{className:"font-medium text-gray-900",children:i.title}),l("p",{className:"text-sm text-gray-600",children:["por ",i.instructor_name]})]}),e("span",{className:`px-2 py-1 text-xs rounded-full ${i.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status==="published"?"Publicado":"Rascunho"})]}),l("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l("div",{children:[e("div",{className:"text-gray-500",children:"MatrÃ­culas"}),e("div",{className:"font-semibold text-blue-600",children:i.enrollments_count})]}),l("div",{children:[e("div",{className:"text-gray-500",children:"Taxa de ConclusÃ£o"}),l("div",{className:"font-semibold text-green-600",children:[i.completion_rate,"%"]})]})]}),l("div",{className:"mt-2",children:[l("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e("span",{children:"Progresso MÃ©dio"}),l("span",{children:[i.avg_progress,"%"]})]}),e(c,{value:i.avg_progress,max:100,color:"blue"})]})]},i.id))})]})})]}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"ðŸ“ˆ"}),"Crescimento de UsuÃ¡rios (30 dias)"]}),e(m,{data:d==null?void 0:d.userGrowth}),e("div",{className:"mt-4 text-center text-sm text-gray-500",children:"UsuÃ¡rios registrados nos Ãºltimos 30 dias"})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"ðŸ“Š"}),"MatrÃ­culas (30 dias)"]}),e(m,{data:d==null?void 0:d.enrollmentGrowth}),e("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Novas matrÃ­culas nos Ãºltimos 30 dias"})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"âœ…"}),"Atividades (7 dias)"]}),e(m,{data:d==null?void 0:d.activityCompletion}),e("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Atividades iniciadas vs concluÃ­das"})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"â­"}),"DistribuiÃ§Ã£o de Pontos (30 dias)"]}),e(m,{data:d==null?void 0:d.pointsGrowth}),e("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Pontos distribuÃ­dos nos Ãºltimos 30 dias"})]})]}),l("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"ðŸ‘¥"}),"DistribuiÃ§Ã£o de PapÃ©is"]}),e("div",{className:"space-y-3",children:(n=d==null?void 0:d.userRoleDistribution)==null?void 0:n.map((i,a)=>l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center",children:[e("div",{className:`w-4 h-4 rounded-full mr-3 ${i.role==="Student"?"bg-blue-500":i.role==="Instructor"?"bg-green-500":"bg-purple-500"}`}),e("span",{className:"text-sm font-medium",children:i.role})]}),l("div",{className:"text-right",children:[e("div",{className:"text-sm font-bold",children:i.count}),l("div",{className:"text-xs text-gray-500",children:[i.percentage,"%"]})]})]},a))})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"ðŸ“š"}),"Status dos Cursos"]}),e("div",{className:"space-y-3",children:(p=d==null?void 0:d.courseStatusDistribution)==null?void 0:p.map((i,a)=>l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center",children:[e("div",{className:`w-4 h-4 rounded-full mr-3 ${i.status==="Published"?"bg-green-500":"bg-yellow-500"}`}),e("span",{className:"text-sm font-medium",children:i.status})]}),l("div",{className:"text-right",children:[e("div",{className:"text-sm font-bold",children:i.count}),l("div",{className:"text-xs text-gray-500",children:[i.percentage,"%"]})]})]},a))})]}),l("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e("span",{className:"text-xl mr-2",children:"ðŸ…"}),"Badges Mais Conquistadas"]}),e("div",{className:"space-y-3",children:(y=d==null?void 0:d.badgeDistribution)==null?void 0:y.slice(0,4).map((i,a)=>l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center",children:[e("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:i.color}}),e("span",{className:"text-sm font-medium truncate",children:i.name})]}),e("div",{className:"text-sm font-bold",children:i.earned_count})]},a))})]})]})]})})]})]})})}export{L as default};

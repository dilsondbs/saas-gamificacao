import{r as n,j as r,a as e,x as d,S as v,A as N}from"./app-2033c2ba.js";import{A as w}from"./AuthenticatedLayout-e732cd47.js";import{A as u}from"./AcademicCapIcon-cc676130.js";import{U as y}from"./UserGroupIcon-809d583a.js";import{C}from"./ClockIcon-61f75a73.js";import"./ApplicationLogo-fbe97745.js";import"./transition-997472bc.js";function j({title:a,titleId:s,...i},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _=n.forwardRef(j),k=_;function A({title:a,titleId:s,...i},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const S=n.forwardRef(A),g=S;function $({auth:a,courses:s,filters:i,canCreate:o}){const[l,h]=n.useState(i.search||""),[c,f]=n.useState(i.status||""),x=t=>{t.preventDefault(),N.get(route("courses.index"),{search:l,status:c},{preserveState:!0})},p=t=>{switch(t){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},b=t=>{switch(t){case"published":return"Publicado";case"draft":return"Rascunho";case"archived":return"Arquivado";default:return t}};return r(w,{user:a.user,header:r("div",{className:"flex justify-between items-center",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Meus Cursos"}),o&&r(d,{href:route("courses.create"),className:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring ring-indigo-300 disabled:opacity-25 transition ease-in-out duration-150",children:[e(g,{className:"h-4 w-4 mr-2"}),"Criar Curso"]})]}),children:[e(v,{title:"Cursos"}),e("div",{className:"py-12",children:r("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e("div",{className:"p-6",children:r("form",{onSubmit:x,className:"flex flex-col sm:flex-row gap-4",children:[e("div",{className:"flex-1",children:r("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(k,{className:"h-5 w-5 text-gray-400"})}),e("input",{type:"text",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Buscar cursos...",value:l,onChange:t=>h(t.target.value)})]})}),e("div",{className:"sm:w-48",children:r("select",{className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c,onChange:t=>f(t.target.value),children:[e("option",{value:"",children:"Todos os status"}),e("option",{value:"draft",children:"Rascunho"}),e("option",{value:"published",children:"Publicado"}),e("option",{value:"archived",children:"Arquivado"})]})}),e("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Buscar"})]})})}),s.data.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.data.map(t=>{var m;return e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg hover:shadow-md transition-shadow duration-200",children:r("div",{className:"p-6",children:[e("div",{className:"flex items-start justify-between mb-4",children:r("div",{className:"flex items-center",children:[e(u,{className:"h-8 w-8 text-indigo-600 mr-3"}),r("div",{children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e(d,{href:route("courses.show",t.id),className:"hover:text-indigo-600 transition-colors",children:t.title})}),e("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(t.status)}`,children:b(t.status)})]})]})}),e("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),r("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r("div",{className:"flex items-center text-sm text-gray-500",children:[e(y,{className:"h-4 w-4 mr-1"}),t.enrollments_count," alunos"]}),r("div",{className:"flex items-center text-sm text-gray-500",children:[e(C,{className:"h-4 w-4 mr-1"}),t.activities_count," atividades"]})]}),t.enrollments_count>0&&r("div",{className:"mb-4",children:[r("div",{className:"flex justify-between items-center mb-1",children:[e("span",{className:"text-xs font-medium text-gray-700",children:"Taxa de Conclusão"}),r("span",{className:"text-xs text-gray-500",children:[t.completion_rate,"%"]})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t.completion_rate}%`}})})]}),r("div",{className:"flex justify-between items-center",children:[e(d,{href:route("courses.show",t.id),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver Detalhes"}),a.user.role==="instructor"&&t.instructor_id===a.user.id||a.user.role==="admin"?e(d,{href:route("courses.edit",t.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"}):null]}),r("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r("p",{className:"text-xs text-gray-500",children:["Instrutor: ",((m=t.instructor)==null?void 0:m.name)||"N/A"]}),r("p",{className:"text-xs text-gray-500",children:["Criado em: ",new Date(t.created_at).toLocaleDateString("pt-BR")]})]})]})},t.id)})}):e("div",{className:"bg-white shadow sm:rounded-lg",children:r("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e(u,{className:"mx-auto h-12 w-12 text-gray-400"}),e("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum curso encontrado"}),e("p",{className:"mt-1 text-sm text-gray-500",children:i.search||i.status?"Tente ajustar os filtros de busca.":"Comece criando seu primeiro curso."}),o&&!i.search&&!i.status&&e("div",{className:"mt-6",children:r(d,{href:route("courses.create"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(g,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Curso"]})})]})}),s.data.length>0&&e("div",{className:"mt-6",children:r("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow",children:[e("div",{className:"hidden sm:block",children:r("p",{className:"text-sm text-gray-700",children:["Mostrando ",e("span",{className:"font-medium",children:s.from})," a"," ",e("span",{className:"font-medium",children:s.to})," de"," ",e("span",{className:"font-medium",children:s.total})," resultados"]})}),r("div",{className:"flex-1 flex justify-between sm:justify-end",children:[s.prev_page_url&&e(d,{href:s.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Anterior"}),s.next_page_url&&e(d,{href:s.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Próximo"})]})]})})]})})]})}export{$ as default};

import{r as u,j as t,a as e,x as o,S as k,A as f}from"./app-8c0852e1.js";import{A as C}from"./AuthenticatedLayout-59e9d229.js";import"./ApplicationLogo-b365625c.js";import"./transition-f64bd92e.js";function B(c){console.log("Badges Index Props:",c);const N=(c.auth||{}).user||{},d=c.badges||{},n=c.stats||{},m=c.filters||{};let a=[];Array.isArray(d)?a=d:d.data&&Array.isArray(d.data)&&(a=d.data),console.log("Badges List:",a);const[h,v]=u.useState(m.search||""),[x,g]=u.useState(m.type||""),p=()=>{f.get(route("admin.badges.index"),{search:h,type:x},{preserveState:!0,preserveScroll:!0})},y=s=>({completion:"bg-green-100 text-green-800",points:"bg-blue-100 text-blue-800",streak:"bg-orange-100 text-orange-800",special:"bg-purple-100 text-purple-800"})[s]||"bg-gray-100 text-gray-800",w=s=>({completion:"✅",points:"⭐",streak:"🔥",special:"👑"})[s]||"🏅",b=s=>{if(!s)return"Nenhum critério definido";try{const l=typeof s=="string"?JSON.parse(s):s,r=[];if(l.courses_completed){const i=l.courses_completed;r.push(`Complete ${i} curso${i>1?"s":""}`)}if(l.points&&r.push(`Acumule ${l.points} pontos`),l.streak_days){const i=l.streak_days;r.push(`Mantenha ${i} dia${i>1?"s":""} consecutivos`)}if(l.lessons_completed){const i=l.lessons_completed;r.push(`Complete ${i} lição${i>1?"ões":""}`)}if(l.exercises_completed){const i=l.exercises_completed;r.push(`Complete ${i} exercício${i>1?"s":""}`)}if(l.login_streak){const i=l.login_streak;r.push(`Faça login por ${i} dia${i>1?"s":""} seguidos`)}return r.length>0?r.join(" • "):"Critério especial"}catch{return"Critério inválido"}};return t(C,{user:N,header:t("div",{className:"flex items-center justify-between",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"🏅 Gerenciamento de Badges"}),e(o,{href:route("admin.badges.create"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition",children:"+ Novo Badge"})]}),children:[e(k,{title:"Gerenciar Badges"}),e("div",{className:"py-8",children:t("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:e("div",{className:"p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"text-2xl",children:"🏅"})}),t("div",{className:"ml-3",children:[e("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e("p",{className:"text-2xl font-semibold text-gray-900",children:(n==null?void 0:n.total)||0})]})]})})}),e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:e("div",{className:"p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"text-2xl",children:"✅"})}),t("div",{className:"ml-3",children:[e("p",{className:"text-sm font-medium text-gray-500",children:"Ativos"}),e("p",{className:"text-2xl font-semibold text-green-600",children:(n==null?void 0:n.active)||0})]})]})})}),e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:e("div",{className:"p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"text-2xl",children:"⭐"})}),t("div",{className:"ml-3",children:[e("p",{className:"text-sm font-medium text-gray-500",children:"Inativos"}),e("p",{className:"text-2xl font-semibold text-blue-600",children:(n==null?void 0:n.inactive)||0})]})]})})}),e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:e("div",{className:"p-6",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"text-2xl",children:"👤"})}),t("div",{className:"ml-3",children:[e("p",{className:"text-sm font-medium text-gray-500",children:"Conquistas"}),e("p",{className:"text-2xl font-semibold text-purple-600",children:(n==null?void 0:n.total_earned)||0})]})]})})})]}),e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:e("div",{className:"p-6",children:t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Pesquisar"}),e("input",{type:"text",value:h,onChange:s=>v(s.target.value),placeholder:"Nome do badge...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyPress:s=>s.key==="Enter"&&p()})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),t("select",{value:x,onChange:s=>g(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e("option",{value:"",children:"Todos os tipos"}),e("option",{value:"completion",children:"Conclusão"}),e("option",{value:"points",children:"Pontos"}),e("option",{value:"streak",children:"Sequência"}),e("option",{value:"special",children:"Especial"})]})]}),e("div",{className:"flex items-end",children:e("button",{onClick:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition",children:"🔍 Buscar"})}),e("div",{className:"flex items-end",children:e(o,{href:route("admin.badges.index"),className:"w-full text-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition",children:"🔄 Limpar"})})]})})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:a&&a.length>0?a.map(s=>e("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg hover:shadow-md transition-shadow",children:t("div",{className:"p-4 sm:p-6",children:[e("div",{className:"flex flex-col space-y-3",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white text-lg sm:text-xl font-bold flex-shrink-0",style:{backgroundColor:s.color||"#6B7280"},children:"🏅"}),t("div",{className:"min-w-0 flex-1",children:[e("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),e("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2",children:s==null?void 0:s.description})]})]}),t("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${y(s.type)}`,children:[w(s.type)," ",s.type==="completion"?"Conclusão":s.type==="points"?"Pontos":s.type==="streak"?"Sequência":"Especial"]})]})}),t("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:gap-4",children:[t("div",{className:"text-center sm:text-left",children:[e("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Valor em Pontos"}),t("p",{className:"text-sm sm:text-lg font-semibold text-indigo-600",children:["⭐ ",(s==null?void 0:s.points_value)||0]})]}),t("div",{className:"text-center sm:text-left",children:[e("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Conquistas"}),t("p",{className:"text-sm sm:text-lg font-semibold text-green-600",children:["👤 ",(s==null?void 0:s.user_badges_count)||(s==null?void 0:s.users_count)||0]})]})]}),(s==null?void 0:s.criteria)&&t("div",{className:"mt-4",children:[e("p",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-2",children:"Critérios:"}),e("div",{className:"bg-gray-50 rounded-md p-2 sm:p-3",children:e("p",{className:"text-xs sm:text-sm text-gray-700",children:b(s==null?void 0:s.criteria)})})]}),t("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t(o,{href:route("admin.badges.show",s==null?void 0:s.id),className:"flex-1 text-center bg-blue-50 text-blue-700 py-2 px-2 sm:px-3 rounded text-xs sm:text-sm font-medium hover:bg-blue-100 transition",children:[e("span",{className:"hidden sm:inline",children:"👁️ Ver"}),e("span",{className:"sm:hidden",children:"👁️"})]}),t(o,{href:route("admin.badges.edit",s==null?void 0:s.id),className:"flex-1 text-center bg-yellow-50 text-yellow-700 py-2 px-2 sm:px-3 rounded text-xs sm:text-sm font-medium hover:bg-yellow-100 transition",children:[e("span",{className:"hidden sm:inline",children:"✏️ Editar"}),e("span",{className:"sm:hidden",children:"✏️"})]}),t("button",{onClick:()=>{confirm("Tem certeza que deseja excluir este badge?")&&f.delete(route("admin.badges.destroy",s==null?void 0:s.id))},className:"flex-1 bg-red-50 text-red-700 py-2 px-2 sm:px-3 rounded text-xs sm:text-sm font-medium hover:bg-red-100 transition",children:[e("span",{className:"hidden sm:inline",children:"🗑️ Excluir"}),e("span",{className:"sm:hidden",children:"🗑️"})]})]})]})},s.id)):t("div",{className:"col-span-full text-center py-8 sm:py-12",children:[e("div",{className:"text-4xl sm:text-6xl mb-4",children:"🏅"}),e("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"Nenhum badge encontrado"}),e("p",{className:"text-sm sm:text-base text-gray-500 px-4",children:"Crie seu primeiro badge para começar a gamificação!"})]})})]})})]})}export{B as default};
